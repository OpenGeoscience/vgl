<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="gl-matrix.js"></script>
    <script type="text/javascript" src="geoweb.min.js"></script>
    <script>
      var testDrawSphere = {};
      testDrawSphere.main = function() {
        $.getJSON('sample.json', function(data) {
          var node = document.getElementById("glcanvas");
          var viewer = ogs.vgl.viewer(node);
          viewer.init();

          viewer.renderWindow().resize($(node).width(), $(node).height());
          var renderer = viewer.renderWindow().activeRenderer();

          var reader = ogs.vgl.geojsonReader();
          var geoms = reader.readGJObject(data);

          for (var i = 0; i < geoms.length; ++i) {
            var mapper = ogs.vgl.mapper();
            mapper.setGeometryData(geoms[i]);

            var material = ogs.vgl.utils.createGeometryMaterial();

            var actor = ogs.vgl.actor();
            actor.setMapper(mapper);
            actor.setMaterial(material);
            renderer.addActor(actor);
          }

          renderer.setBackgroundColor(0.0, 0.0, 0.0, 1.0);
          renderer.resetCamera();

          viewer.render();
        });
      }
    </script>
  </head>
  <body onload="testDrawSphere.main()">
    <div>
      <!-- It is important that canvas has height and width -->
      <canvas id="glcanvas" width="800px" height="800px"></canvas>
    </div>
  </body>
</html>
